#!/usr/bin/env ruby
# frozen_string_literal: true

require "optparse"

options = {}
OptionParser.new do |opts|
  opts.banner = "Usage: girb [options]"

  opts.on("-d", "--debug", "Enable debug output") do
    options[:debug] = true
  end

  opts.on("-h", "--help", "Show this help") do
    puts opts
    exit
  end
end.parse!

ENV["GIRB_DEBUG"] = "1" if options[:debug]

require "irb"

# Try to load girb-gemini for auto-configuration, fall back to girb only
begin
  require "girb-gemini"
rescue LoadError
  require "girb"
  warn "[girb] No provider gem found. Install girb-gemini or configure a custom provider."
end

IRB.start
